Scriptname JailPassesTime_Script extends Quest

Message Property LoreRim_VampirismJailDeathMsg Auto
MagicEffect Property REQ_VampireDustInducer Auto
Spell Property REQ_Disease_Attack_SanguinareVampiris Auto
Actor Property Player Auto

Event OnStoryServedTime(Location akLocation, Form akCrimeGroup, int aiCrimeGold, int aiDaysJail)
    If Player.HasSpell(REQ_Disease_Attack_SanguinareVampiris) || Player.HasMagicEffect(REQ_VampireDustInducer)
        LoreRim_VampirismJailDeathMsg.Show()
        Stop()
        Game.GetPlayer().KillEssential()
    EndIf
endEvent